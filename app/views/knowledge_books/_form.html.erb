<%= form_for(@knowledge_book, remote: true, html: {class: :knowledge_book_form, class: "form-horizontal", style: "display:inline;" }) do |f| %>
<div class="card shadow">
  <div class="card-header py-3 d-flex flex-row align-items-center justify-content-between">
                                    <h6 class="m-0 font-weight-bold text-primary"><%= @knowledge_book.persisted? ? 'Edit Knowledge Book' : 'New Knowledge Book'%></h6>

                                </div>
  <div class="card-body">

  <ul class="errors"></ul>
<div class="row">
  <div class="form-group col-md-6">
    <%= f.label :code, class: "control-label" %>
    <%= f.text_field :code, class: 'form-control',required: true %>
  </div>

  <div class="form-group col-md-6">
    <%= f.label :title, class: "control-label" %>
    <%= f.text_field :title, class: 'form-control',required: true %>
  </div>

  <div class="form-group col-md-12">
    <%= f.label :content, class: "control-label" %>
    <%= f.rich_text_area :content, class: "editor-min-height" %>
  </div>
  </div>
  

</div>
</div>


<div class="row mt-4">
        <div class="col-md-12 mb-2">
      <%= link_to_add_association 'Add Chapter', f, :knowledge_chapters, :class => 'add_fields-knowledge_chapter btn btn-cyrenian', id: 'add_knowledge_chapter_fields', class: 'btn btn-primary' %>
    </div>
      <div class="col-md-12 mb-3" id="knowledge-chapters-list">
        <h4>Knowledge Chapters</h4>
        <%= f.fields_for :knowledge_chapters do |knowledge_chapter|%>
          <%= render "knowledge_chapter_fields",:f=> knowledge_chapter %>
        <% end %>
  </div>
  </div>
  <hr>
  <div class="row mb-4">
    <div class="col-md-12 text-right">
    <%= f.submit "Save Knowledge Book", class: "btn btn-primary" %>
    <%= link_to "Back", knowledge_books_path, class: "btn btn-secondary" %>
  </div>
  </div>
  <% end %>
  <script type="text/javascript">
        $("#add_knowledge_chapter_fields")
  .data("association-insertion-method", 'append')
  .data("association-insertion-node", '#knowledge-chapters-list');
  </script>